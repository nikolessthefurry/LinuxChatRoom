////////////////////////////////////////////////////////////////////////////////
/// @file Server.h
/// @author nikolessthefurry (nikolessthefurry@gmail.com)
/// @brief 
/// @version 0.1
/// @date 2025-12-10
/// 
/// @copyright Copyright (c) 2025
/// 
////////////////////////////////////////////////////////////////////////////////

#include "Socket.h"

#include <cstdint>
#include <array>

namespace Networking
{

/// Arbitrary length for now. Limiting it to 10, can be adjusted later.
const uint32_t MAX_NUMBER_OF_CLIENTS = 10;

class Server
{
  ////////////////////////////////////////////////////////////////////////////////
  /// @brief Construct a new Server object
  /// 
  ////////////////////////////////////////////////////////////////////////////////
  Server();

  ////////////////////////////////////////////////////////////////////////////////
  /// @brief Destroy the Server object
  /// 
  ////////////////////////////////////////////////////////////////////////////////
  ~Server();

  ////////////////////////////////////////////////////////////////////////////////
  /// @brief Delete the copy constructor.
  /// 
  /// @param[in] Server Server to copy 
  ////////////////////////////////////////////////////////////////////////////////
  Server(const Server& Server) = delete;

  ////////////////////////////////////////////////////////////////////////////////
  /// @brief Delete the move constructor.
  /// 
  /// @param[in] Server - Server to move 
  ////////////////////////////////////////////////////////////////////////////////
  Server(Server&& Server) = delete;

  ////////////////////////////////////////////////////////////////////////////////
  /// @brief Delete the copy assignment.
  /// 
  /// @return Server 
  ////////////////////////////////////////////////////////////////////////////////
  Server operator=(const Server&) = delete;

  ////////////////////////////////////////////////////////////////////////////////
  /// @brief Delete the move assignment
  /// 
  /// @param[in,out] Server Server to copy. 
  /// @return Server& 
  ////////////////////////////////////////////////////////////////////////////////
  Server& operator=(Server&& Server) = delete;

private:

  /// Instance of the server socket.
  Socket::Socket m_server_socket;

  /// Array of connections.
  std::array<int, MAX_NUMBER_OF_CLIENTS> m_client_array;
};
}